The operating system operates in kernel mode when performing the following tasks:

1. Interacting with hardware devices such as disk drives, network interfaces, and keyboard/mouse.

2. Allocating and managing system resources, such as memory and processing time.

3. Providing system services such as file and process management.

4. Enforcing security and access control, such as user authentication and permissions.

5. Implementing system-level APIs and libraries, such as those for process management, file I/O, and inter-process communication.

6. Handling interrupt and exception handling, such as managing hardware faults or traps.

7. Implementing system-level debugging and tracing, such as providing kernel-level logs and debugging facilities.

These tasks require a high level of control and access to system resources, so they are typically performed in kernel mode.
