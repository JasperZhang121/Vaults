
```java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@AutoConfigureWebTestClient
class UserApiTest {
  @Autowired WebTestClient client;

  @Test void getUser(){
    client.get().uri("/api/users/{id}", 1)
      .exchange()
      .expectStatus().isOk()
      .expectBody()
      .jsonPath("$.id").isEqualTo(1);
  }
}
```
